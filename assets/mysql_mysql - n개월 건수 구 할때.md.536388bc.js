import{_ as a,c as l,a as s,b as p,t as o,d as C,o as e}from"./app.86428379.js";const d=JSON.parse('{"title":"mysql - n개월 건수 구 할때","description":"","frontmatter":{"title":"mysql - n개월 건수 구 할때"},"headers":[{"level":2,"title":"문제 :","slug":"문제","link":"#문제","children":[]},{"level":2,"title":"해결 방법 :","slug":"해결-방법","link":"#해결-방법","children":[]}],"relativePath":"mysql/mysql - n개월 건수 구 할때.md","lastUpdated":1674745074000}'),t={name:"mysql/mysql - n개월 건수 구 할때.md"},c={id:"frontmatter-title",tabindex:"-1"},r=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),y=C(`<h2 id="문제" tabindex="-1">문제 : <a class="header-anchor" href="#문제" aria-hidden="true">#</a></h2><p>디비 테이블 에는 날짜(CONDATE)와 건수(CNT)가 있습니다.</p><p>예들 들어 올해 월별 건수를 구할 때</p><p>4월부터는 아직 데이터가 없으니까 0으로 표시되게 하고 싶은데요</p><p>1월 2월 3월 4월 ..... 12월</p><p>10 15 10 0............0</p><h2 id="해결-방법" tabindex="-1">해결 방법 : <a class="header-anchor" href="#해결-방법" aria-hidden="true">#</a></h2><p>아래 sql 쿼리를 참고하면 된다.</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">01</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">01</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">02</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">02</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">03</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">03</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">04</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">04</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">05</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">05</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">06</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">06</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">07</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">07</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">08</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">08</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">09</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">09</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">11</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">11</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     , </span><span style="color:#F78C6C;">IFNULL</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> mm </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">12</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> cnt </span><span style="color:#F78C6C;">END</span><span style="color:#A6ACCD;">), </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">12</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DATE_FORMAT</span><span style="color:#A6ACCD;">(condate, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) mm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">             , </span><span style="color:#82AAFF;">SUM</span><span style="color:#A6ACCD;">(cnt) cnt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> condate </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2017-01-01</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> condate </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2018-01-01</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DATE_FORMAT</span><span style="color:#A6ACCD;">(condate, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        ) a</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,9);function A(n,D,F,E,i,N){return e(),l("div",null,[s("h1",c,[p(o(n.$frontmatter.title)+" ",1),r]),y])}const _=a(t,[["render",A]]);export{d as __pageData,_ as default};
