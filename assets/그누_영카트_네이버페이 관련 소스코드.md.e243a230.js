import{_ as a,c as l,a as s,b as p,t as o,d as e,o as D}from"./app.ff46b2ef.js";const f=JSON.parse('{"title":"네이버페이 관련 소스코드","description":"","frontmatter":{"title":"네이버페이 관련 소스코드"},"headers":[{"level":2,"title":"/shop.config.php","slug":"shop-config-php","link":"#shop-config-php","children":[]},{"level":2,"title":"/ shop / settle_naverpay.inc.php","slug":"shop-settle-naverpay-inc-php","link":"#shop-settle-naverpay-inc-php","children":[]},{"level":2,"title":"참고 자료 :","slug":"참고-자료","link":"#참고-자료","children":[]}],"relativePath":"그누&영카트/네이버페이 관련 소스코드.md","lastUpdated":null}'),t={name:"그누&영카트/네이버페이 관련 소스코드.md"},c={id:"frontmatter-title",tabindex:"-1"},r=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),y=e(`<p>냑에 올린 자료인데 언제 없어질지 몰라서 따로 배포 하였다.</p><p>영카트 네이버페이 주문 방식이 5.4.18 버전에서 PG사에 통합되면서</p><p>상품페이지에서 직접 네이버페이로 주문할 수 있는 기능이 사라졌습니다</p><hr><h2 id="shop-config-php" tabindex="-1">/shop.config.php <a class="header-anchor" href="#shop-config-php" aria-hidden="true">#</a></h2><p>97 ~ 104 줄의 내용을 복사해서 붙여넣기로 변경함</p><hr><h2 id="shop-settle-naverpay-inc-php" tabindex="-1">/ shop / settle_naverpay.inc.php <a class="header-anchor" href="#shop-settle-naverpay-inc-php" aria-hidden="true">#</a></h2><p>3 ~ 10 줄의 내용을 복사해서 붙여넣기로 변경함</p><p>shop.config.php</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_GNUBOARD_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">exit</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 개별 페이지 접근 불가</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_USE_SHOP</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">G5_USE_SHOP</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 쇼핑몰 상수 모음 시작</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_DIR</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_MOBILE_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_MOBILE_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_IMG_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_SHOP_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_IMG_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_IMG_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_MSHOP_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_IMG_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 보안서버주소 설정</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">G5_HTTPS_DOMAIN</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_HTTPS_SHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_HTTPS_DOMAIN</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_HTTPS_MSHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_HTTPS_DOMAIN</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_MOBILE_DIR</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_HTTPS_SHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_SHOP_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_HTTPS_MSHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_MSHOP_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 쇼핑몰 상수 모음 끝</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//==============================================================================</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 쇼핑몰 필수 실행코드 모음 시작</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//==============================================================================</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 쇼핑몰 설정값 배열변수</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sql_fetch</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> select * from </span><span style="color:#89DDFF;">{$</span><span style="color:#A6ACCD;">g5</span><span style="color:#89DDFF;">[&#39;</span><span style="color:#C3E88D;">g5_shop_default_table</span><span style="color:#89DDFF;">&#39;]}</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(!</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_THEME_PREVIEW_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 테마 경로 설정</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_SHOP_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_THEME_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_SHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">    G5_THEME_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_MSHOP_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_THEME_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_MOBILE_DIR</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_MSHOP_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_THEME_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_MOBILE_DIR</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_DIR</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 스킨 경로 설정</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">preg_match</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#^theme/(.+)$#</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_THEME_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_THEME_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_SHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   G5_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">preg_match</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#^theme/(.+)$#</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_mobile_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_THEME_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_THEME_MOBILE_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_THEME_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_MOBILE_DIR</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_MOBILE_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_MOBILE_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">match</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_PATH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> G5_MOBILE_PATH</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_mobile_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_MSHOP_SKIN_URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  G5_MOBILE_URL </span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SKIN_DIR</span><span style="color:#89DDFF;">.&#39;/</span><span style="color:#C3E88D;">shop</span><span style="color:#89DDFF;">/&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_shop_mobile_skin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#82AAFF;">isset</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">g5</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g5_shop_post_log_table</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!$</span><span style="color:#A6ACCD;">g5</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g5_shop_post_log_table</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">g5</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g5_shop_post_log_table</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> G5_SHOP_TABLE_PREFIX</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">order_post_log</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 주문요청 로그 테이블</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 옵션 ID 특수문자 필터링 패턴</span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">G5_OPTION_ID_FILTER</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">&#39;</span><span style="color:#A6ACCD;">\\\\\\&quot;</span><span style="color:#C3E88D;">]/&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">if(isset(</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">_SERVER</span><span style="color:#C3E88D;">[&#39;HTTPS&#39;]) &amp;&amp; </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">_SERVER</span><span style="color:#C3E88D;">[&#39;HTTPS&#39;]==&#39;on&#39;) {</span></span>
<span class="line"><span style="color:#C3E88D;">    // 토스페이먼츠 현금영수증 실결제 URL 상수</span></span>
<span class="line"><span style="color:#C3E88D;">    define(&#39;SHOP_TOSSPAYMENTS_CASHRECEIPT_REAL_JS&#39;, &#39;https://pgweb.tosspayments.com/WEB_SERVER/js/receipt_link.js&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">    // 토스페이먼츠 현금영수증 테스트 URL 상수</span></span>
<span class="line"><span style="color:#C3E88D;">    define(&#39;SHOP_TOSSPAYMENTS_CASHRECEIPT_TEST_JS&#39;, &#39;https://pgweb.tosspayments.com:7085/WEB_SERVER/js/receipt_link.js&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">} else {</span></span>
<span class="line"><span style="color:#C3E88D;">    // 토스페이먼츠 현금영수증 실결제 URL 상수</span></span>
<span class="line"><span style="color:#C3E88D;">    define(&#39;SHOP_TOSSPAYMENTS_CASHRECEIPT_REAL_JS&#39;, &#39;http://pgweb.tosspayments.com/WEB_SERVER/js/receipt_link.js&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">    // 토스페이먼츠 현금영수증 테스트 URL 상수</span></span>
<span class="line"><span style="color:#C3E88D;">    define(&#39;SHOP_TOSSPAYMENTS_CASHRECEIPT_TEST_JS&#39;, &#39;http://pgweb.tosspayments.com:7085/WEB_SERVER/js/receipt_link.js&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">// [영카트원본] 네이버페이를 신용카드 결제창에서 지원하고 있으므로 네이버에 직접신청하는 결제 기능을 미사용(false:기본설정) 합니다. (kagla,211019)</span></span>
<span class="line"><span style="color:#C3E88D;">// [영카트원본] 네이버에서 직접신청 결제를 사용(true)하시는 경우 모든 문제를 직접 해결해 주셔야 합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">//========================================================================================</span></span>
<span class="line"><span style="color:#C3E88D;">// [우주정복 수정본] 우주정복S23.0.0 에서는 네이버페이를 사용하도록 다시 되돌림</span></span>
<span class="line"><span style="color:#C3E88D;">// https;//series8.kr    @우주정복 @시리즈8 @매일프랜즈</span></span>
<span class="line"><span style="color:#C3E88D;">//----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_SHOP_DIRECT_NAVERPAY&#39;, true); // true 사용, 상품페이지에 보이게 다시 살림. false 미사용(PG사에서 지원하여 미사용하게 되었음)</span></span>
<span class="line"><span style="color:#C3E88D;">//========================================================================================</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">/*</span></span>
<span class="line"><span style="color:#C3E88D;">// 주문상태 상수</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_OD_STATUS_ORDER&#39;     , &#39;입금확인중&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_OD_STATUS_SETTLE&#39;    , &#39;결제완료&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_OD_STATUS_READY&#39;     , &#39;배송준비중&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_OD_STATUS_DELIVERY&#39;  , &#39;배송중&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">define(&#39;G5_OD_STATUS_FINISH&#39;    , &#39;배송완료&#39;);</span></span>
<span class="line"><span style="color:#C3E88D;">*/</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">/*</span></span>
<span class="line"><span style="color:#C3E88D;"># 주문상태는 상수로 처리하지 않고 실제 문자열 값을 처리한다.</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">&#39;쇼핑&#39;          : 고객이 장바구니에 상품을 담고 있는 경우 입니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;입금확인중&#39;    : 무통장, 가상계좌의 경우 결제하기 전을 말합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;결제완료&#39;      : 결제가 완료된 상태를 말합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;배송준비중&#39;    : 배송준비중이 되면 취소가 불가합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;배송중&#39;        : 배송중이면 반품이 불가합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;배송완료&#39;      : 배송이 완료된 상태에서만 포인트적립이 가능합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;취소&#39;          : 입금확인중이나 결제완료후 취소가 가능합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;반품&#39;          : 배송완료 후에만 반품처리가 가능합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;품절&#39;          :</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;"># 13.10.04</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">&#39;쇼핑&#39;  : 고객이 장바구니에 상품을 담고 있는 경우 입니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;주문&#39;  : 무통장, 가상계좌의 경우 결제하기 전을 말합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;입금&#39;  : 신용카드, 계좌이체, 휴대폰결제가 된 상태, 무통장, 가상계좌는 주문후 입금한 상태를 말합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;배송&#39;  : 배송이 되면 취소가 불가합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;완료&#39;  : 배송이 완료된 상태에서만 포인트적립이 가능합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;취소&#39;  : 입금이후로는 고객의 취소가 불가합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;반품&#39;  : 배송완료 후에만 반품처리가 가능합니다.</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;품절&#39;  : 주문이나 입금후 상품의 품절된 상태를 나타냅니다.</span></span>
<span class="line"><span style="color:#C3E88D;">*/</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">//==============================================================================</span></span>
<span class="line"><span style="color:#C3E88D;">// 쇼핑몰 필수 실행코드 모음 끝</span></span>
<span class="line"><span style="color:#C3E88D;">//==============================================================================;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>shop 폴더 내부에 추가하기</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#82AAFF;">defined</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_GNUBOARD_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">exit</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 개별 페이지 접근 불가</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [영카트원본] 네이버페이를 신용카드 결제창에서 지원하고 있으므로 네이버에 직접신청하는 결제 기능을 미사용(return:기본설정) 합니다.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [영카트원본] 네이버에서 직접신청 결제를 사용하시는 경우 모든 문제를 직접 해결해 주셔야 합니다.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//========================================================================================</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [우주정복 수정본] 우주정복S23.0.0 에서는 네이버페이를 사용하도록 다시 되돌림</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// https;//series8.kr    @우주정복 @시리즈8 @매일프랜즈</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// if (!defined(&#39;G5_SHOP_DIRECT_NAVERPAY&#39;) || !G5_SHOP_DIRECT_NAVERPAY) return;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//========================================================================================</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(!$</span><span style="color:#A6ACCD;">is_admin </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_card_test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_mb_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">is_guest </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">member</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mb_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_mb_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(!$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_cert_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_button_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">basename</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">_SERVER</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SCRIPT_NAME</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">item.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(!$</span><span style="color:#A6ACCD;">is_orderable</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">is_mobile_order </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">is_mobile</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//$is_mobile_order = G5_IS_MOBILE;</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_enable </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Y</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">basename</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">_SERVER</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SCRIPT_NAME</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cart.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">is_mobile_order</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js_url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://test-pay.naver.com/customer/js/mobile/naverPayButton.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js_url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://pay.naver.com/customer/js/mobile/naverPayButton.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;script type=&quot;text/javascript&quot; src=&quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js_url</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot; charset=&quot;UTF-8&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;script type=&quot;text/javascript&quot; &gt;//&lt;![CDATA[</span></span>
<span class="line"><span style="color:#C3E88D;">    naver.NaverPayButton.apply({</span></span>
<span class="line"><span style="color:#C3E88D;">    BUTTON_KEY: &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_button_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot;, // 네이버페이에서 제공받은 버튼 인증 키 입력</span></span>
<span class="line"><span style="color:#C3E88D;">    TYPE: &quot;MA&quot;, // 버튼 모음 종류 설정</span></span>
<span class="line"><span style="color:#C3E88D;">    COLOR: 1, // 버튼 모음의 색 설정</span></span>
<span class="line"><span style="color:#C3E88D;">    COUNT: </span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_count</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">, // 버튼 개수 설정. 구매하기 버튼만 있으면 1, 찜하기 버튼도 있으면 2를 입력.</span></span>
<span class="line"><span style="color:#C3E88D;">    ENABLE: &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_enable</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot;, // 품절 등의 이유로 버튼 모음을 비활성화할 때에는 &quot;N&quot; 입력</span></span>
<span class="line"><span style="color:#C3E88D;">    BUY_BUTTON_HANDLER : buy_nc, // 구매하기 버튼 이벤트 Handler 함수 등록, 품절인 경우 not_buy_nc 함수 사용</span></span>
<span class="line"><span style="color:#C3E88D;">    WISHLIST_BUTTON_HANDLER : wishlist_nc, // 찜하기 버튼 이벤트 Handler 함수 등록</span></span>
<span class="line"><span style="color:#C3E88D;">    &quot;&quot;:&quot;&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">    });</span></span>
<span class="line"><span style="color:#C3E88D;">    //]]&gt;&lt;/script&gt;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">PHP_EOL</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;script type=&quot;text/javascript&quot; src=&quot;https://pay.naver.com/customer/js/naverPayButton.js&quot; charset=&quot;UTF-8&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;script type=&quot;text/javascript&quot; &gt;//&lt;![CDATA[</span></span>
<span class="line"><span style="color:#C3E88D;">    naver.NaverPayButton.apply({</span></span>
<span class="line"><span style="color:#C3E88D;">    BUTTON_KEY: &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_button_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot;, // 페이에서 제공받은 버튼 인증 키 입력</span></span>
<span class="line"><span style="color:#C3E88D;">    TYPE: &quot;A&quot;, // 버튼 모음 종류 설정</span></span>
<span class="line"><span style="color:#C3E88D;">    COLOR: 1, // 버튼 모음의 색 설정</span></span>
<span class="line"><span style="color:#C3E88D;">    COUNT: </span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_count</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">, // 버튼 개수 설정. 구매하기 버튼만 있으면 1, 찜하기 버튼도 있으면 2를 입력.</span></span>
<span class="line"><span style="color:#C3E88D;">    ENABLE: &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_enable</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot;, // 품절 등의 이유로 버튼 모음을 비활성화할 때에는 &quot;N&quot; 입력</span></span>
<span class="line"><span style="color:#C3E88D;">    BUY_BUTTON_HANDLER : buy_nc, // 구매하기 버튼 이벤트 Handler 함수 등록, 품절인 경우 not_buy_nc 함수 사용</span></span>
<span class="line"><span style="color:#C3E88D;">    WISHLIST_BUTTON_HANDLER : wishlist_nc, // 찜하기 버튼 이벤트 Handler 함수 등록</span></span>
<span class="line"><span style="color:#C3E88D;">    &quot;&quot;:&quot;&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">    });</span></span>
<span class="line"><span style="color:#C3E88D;">    //]]&gt;&lt;/script&gt;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">PHP_EOL</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_button_js </span><span style="color:#89DDFF;">.=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;input type=&quot;hidden&quot; name=&quot;naverpay_form&quot; value=&quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#82AAFF;">basename</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">_SERVER</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SCRIPT_NAME</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">&quot;&gt;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">PHP_EOL</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_card_test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_addr     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ssl://test-pay.naver.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">buy_req_url  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">POST /customer/api/order.nhn HTTP/1.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wish_req_url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">POST /customer/api/wishlist.nhn HTTP/1.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_host     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test-pay.naver.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_port     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">443</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">is_mobile_order</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">orderUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://test-m.pay.naver.com/mobile/customer/order.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wishUrl  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://test-m.pay.naver.com/mobile/customer/wishList.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">orderUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://test-pay.naver.com/customer/order.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wishUrl  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://test-pay.naver.com/customer/wishlistPopup.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_addr     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ssl://pay.naver.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">buy_req_url  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">POST /customer/api/order.nhn HTTP/1.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wish_req_url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">POST /customer/api/wishlist.nhn HTTP/1.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_host     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pay.naver.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">req_port     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">443</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">is_mobile_order</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">orderUrl     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://m.pay.naver.com/mobile/customer/order.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wishUrl      </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://m.pay.naver.com/mobile/customer/wishList.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">orderUrl     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://pay.naver.com/customer/order.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">wishUrl      </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://pay.naver.com/customer/wishlistPopup.nhn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">define</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SHIPPING_ADDITIONAL_PRICE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">de_naverpay_sendcost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">naverpay_request_js </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;script type=&quot;text/javascript&quot; &gt;//&lt;![CDATA[</span></span>
<span class="line"><span style="color:#C3E88D;">function buy_nc(url)</span></span>
<span class="line"><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">    var f = $(this).closest(&quot;form&quot;).get(0);</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">    var check = fsubmit_check(f);</span></span>
<span class="line"><span style="color:#C3E88D;">    if ( check ) {</span></span>
<span class="line"><span style="color:#C3E88D;">        //네이버페이로 주문 정보를 등록하는 가맹점 페이지로 이동.</span></span>
<span class="line"><span style="color:#C3E88D;">        //해당 페이지에서 주문 정보 등록 후 네이버페이 주문서 페이지로 이동.</span></span>
<span class="line"><span style="color:#C3E88D;">        //location.href=url;</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">        //var win_buy_nc = window.open(&quot;_blank&quot;, &quot;win_buy_nc&quot;, &quot;scrollbars=yes,width=900,height=700,top=10,left=10&quot;);</span></span>
<span class="line"><span style="color:#C3E88D;">        //f.action = &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/naverpay/naverpay_order.php&quot;;</span></span>
<span class="line"><span style="color:#C3E88D;">        //f.target = &quot;win_buy_nc&quot;;</span></span>
<span class="line"><span style="color:#C3E88D;">        //f.submit();</span></span>
<span class="line"><span style="color:#C3E88D;">        //return false;</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">        $.ajax({</span></span>
<span class="line"><span style="color:#C3E88D;">            url : &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/naverpay/naverpay_order.php&quot;,</span></span>
<span class="line"><span style="color:#C3E88D;">            type : &quot;POST&quot;,</span></span>
<span class="line"><span style="color:#C3E88D;">            data : $(f).serialize(),</span></span>
<span class="line"><span style="color:#C3E88D;">            async : false,</span></span>
<span class="line"><span style="color:#C3E88D;">            cache : false,</span></span>
<span class="line"><span style="color:#C3E88D;">            dataType : &quot;json&quot;,</span></span>
<span class="line"><span style="color:#C3E88D;">            success : function(data) {</span></span>
<span class="line"><span style="color:#C3E88D;">                if(data.error) {</span></span>
<span class="line"><span style="color:#C3E88D;">                    alert(data.error);</span></span>
<span class="line"><span style="color:#C3E88D;">                    return false;</span></span>
<span class="line"><span style="color:#C3E88D;">                }</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">                document.location.href = &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">orderUrl</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">?ORDER_ID=&quot;+data.ORDER_ID+&quot;&amp;SHOP_ID=&quot;+data.SHOP_ID+&quot;&amp;TOTAL_PRICE=&quot;+data.TOTAL_PRICE;</span></span>
<span class="line"><span style="color:#C3E88D;">            }</span></span>
<span class="line"><span style="color:#C3E88D;">        });</span></span>
<span class="line"><span style="color:#C3E88D;">    }</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">    return false;</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#C3E88D;">function wishlist_nc(url)</span></span>
<span class="line"><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">    var f = $(this).closest(&quot;form&quot;).get(0);</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">    // 네이버페이로 찜 정보를 등록하는 가맹점 페이지 팝업 창 생성.</span></span>
<span class="line"><span style="color:#C3E88D;">    // 해당 페이지에서 찜 정보 등록 후 네이버페이 찜 페이지로 이동.</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">is_mobile_order </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">var win_wishlist_nc = window.open(url,&quot;win_wishlist_nc&quot;,&quot;scrollbars=yes,width=400,height=267&quot;);</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">PHP_EOL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">f.target = &quot;win_wishlist_nc&quot;;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">.&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">    f.action = &quot;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">G5_SHOP_URL</span><span style="color:#89DDFF;">.&#39;</span><span style="color:#C3E88D;">/naverpay/naverpay_wish.php&quot;;</span></span>
<span class="line"><span style="color:#C3E88D;">    f.submit();</span></span>
<span class="line"><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#C3E88D;">    return false;</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#C3E88D;">function not_buy_nc()</span></span>
<span class="line"><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">    alert(&quot;죄송합니다. 네이버페이로 구매가 불가한 상품입니다.&quot;);</span></span>
<span class="line"><span style="color:#C3E88D;">    return false;</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#C3E88D;">//]]&gt;&lt;/script&gt;</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#A6ACCD;">PHP_EOL</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>현재는 네이버 페이가 영카트 결제 시스템에 포함 되어 있다고 한다.</p><p>통합되다 보니 따로 연동할 필요 없다.</p><h2 id="참고-자료" tabindex="-1">참고 자료 : <a class="header-anchor" href="#참고-자료" aria-hidden="true">#</a></h2><p><a href="https://sir.kr/bbs/board.php?bo_table=g5_skin&amp;wr_id=52310" target="_blank" rel="noreferrer">https://sir.kr/bbs/board.php?bo_table=g5_skin&amp;wr_id=52310</a></p>`,17);function F(n,C,A,i,_,E){return D(),l("div",null,[s("h1",c,[p(o(n.$frontmatter.title)+" ",1),r]),y])}const d=a(t,[["render",F]]);export{f as __pageData,d as default};
