import{_ as r,c as t,a as e,b as p,t as s,d as c,o as i}from"./app.a1a9e66d.js";const q=JSON.parse('{"title":"Mariadb 5.5 my.cnf 설정","description":"","frontmatter":{"title":"Mariadb 5.5 my.cnf 설정"},"headers":[],"relativePath":"mysql/Mariadb 5.5 my.cnf 설정.md","lastUpdated":1674745074000}'),n={name:"mysql/Mariadb 5.5 my.cnf 설정.md"},l={id:"frontmatter-title",tabindex:"-1"},o=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),h=c('<p>설정환경 : Centos 7.0</p><p>설치 : yum</p><ol start="0"><li>설명</li></ol><p>/usr/share/mysql에 보면 cnf파일들이 있다. 자신에게 맞는 적당한 녀석으로 골라서 사용하면 된다.</p><p>기본적으로 charset이 설정되어 있지 않기 때문에 charset은 기본적으로 추가해주어야한다.</p><p>그룹 상세 [mysqld] mysqld 프로그램을 위한 설정 옵션 [mysql] mysql 명령 클라이언트를 위한 설정 옵션 [client] client 접속 환경 설정 [mysqldump] dump 사용시 설정 옵션 [myisamchk] myisamchk 복구 설정 옵션 [mysqlhotcopy] mysqlhotcopy 백업 설정 옵션</p><p>myisamchk : check와 복구 기능</p><p>mysqlhotcopy : perl로 작성된 백업툴.</p><ol><li>my.cnf</li></ol><p>/usr/share/mysql/my-huge.cnf를 /etc/my.cnf로 복사한다. 그 후에 파란색으로 표시된 문자셋을 설정해준다. ( utf8에 utf8_general_ci로 설정한 것이다. )</p><h1 id="cp-usr-share-mysql-my-huge-cnf-etc-my-cnf" tabindex="-1">cp /usr/share/mysql/my-huge.cnf /etc/my.cnf <a class="header-anchor" href="#cp-usr-share-mysql-my-huge-cnf-etc-my-cnf" aria-hidden="true">#</a></h1><p>[client]</p><p>default-character-set=utf8</p><p>#password = your_password</p><p>port = 3306</p><p>socket = /var/lib/mysql/mysql.sock</p><h1 id="server-mysqld라는-프로세스-데몬-실제-구동되는-서버-프로그램을-위한-설정" tabindex="-1">server : mysqld라는 프로세스 데몬 ( 실제 구동되는 서버 프로그램을 위한 설정 ) <a class="header-anchor" href="#server-mysqld라는-프로세스-데몬-실제-구동되는-서버-프로그램을-위한-설정" aria-hidden="true">#</a></h1><p>[mysqld]</p><p>collation-server = utf8_general_ci</p><p>init-connect=&#39;SET NAMES utf8&#39;</p><p>character-set-server=utf8</p><p>port = 3306</p><p>socket = /var/lib/mysql/mysql.sock</p><p>skip-external-locking</p><p>key_buffer_size = 384M</p><p>max_allowed_packet = 1M</p><p>table_open_cache = 512</p><p>sort_buffer_size = 2M</p><p>read_buffer_size = 2M</p><p>read_rnd_buffer_size = 8M</p><p>myisam_sort_buffer_size = 64M</p><p>thread_cache_size = 8</p><p>query_cache_size = 32M</p><h1 id="try-number-of-cpu-s-2-for-thread-concurrency" tabindex="-1">Try number of CPU&#39;s*2 for thread_concurrency <a class="header-anchor" href="#try-number-of-cpu-s-2-for-thread-concurrency" aria-hidden="true">#</a></h1><p>thread_concurrency = 8</p><p>#tmpdir = /tmp/</p><p>#skip-networking</p><p>log-bin=mysql-bin</p><p>server-id = 1</p><h1 id="dump-사용시-설정값" tabindex="-1">dump 사용시 설정값 <a class="header-anchor" href="#dump-사용시-설정값" aria-hidden="true">#</a></h1><p>[mysqldump]</p><p>default-character-set=utf8</p><p>quick</p><p>max_allowed_packet = 16M</p><p>[mysql]</p><p>default-character-set=utf8</p><p>no-auto-rehash</p><p>#safe-updates</p><p>[myisamchk]</p><p>key_buffer_size = 256M</p><p>sort_buffer_size = 256M</p><p>read_buffer = 2M</p><p>write_buffer = 2M</p><p>[mysqlhotcopy]</p><p>interactive-timeout</p><p>혹시 몰라서 아래 자료도 참고 해 본다.</p><h1 id="mysql-또는-root-계정으로-작업을-권장합니다" tabindex="-1">mysql 또는 root 계정으로 작업을 권장합니다. <a class="header-anchor" href="#mysql-또는-root-계정으로-작업을-권장합니다" aria-hidden="true">#</a></h1><p>vi /etc/my.cnf</p><h1 id="client-부분밑에-추가" tabindex="-1">client 부분밑에 추가 <a class="header-anchor" href="#client-부분밑에-추가" aria-hidden="true">#</a></h1><p>[client]</p><p>default-character-set = utf8</p><h1 id="mysqld-부분밑에-추가" tabindex="-1">mysqld 부분밑에 추가 <a class="header-anchor" href="#mysqld-부분밑에-추가" aria-hidden="true">#</a></h1><p>[mysqld]</p><p>init_connect = SET collation_connection = utf8_general_ci</p><p>init_connect = SET NAMES utf8</p><p>character-set-server = utf8</p><p>collation-server = utf8_general_ci</p><h1 id="mysqldump-부분밑에-추가" tabindex="-1">mysqldump 부분밑에 추가 <a class="header-anchor" href="#mysqldump-부분밑에-추가" aria-hidden="true">#</a></h1><p>[mysqldump]</p><p>default-character-set = utf8</p><h1 id="mysql-부분밑에-추가" tabindex="-1">mysql 부분밑에 추가 <a class="header-anchor" href="#mysql-부분밑에-추가" aria-hidden="true">#</a></h1><p>[mysql]</p><p>default-character-set = utf8</p><p>[저장후 나가기]</p><h1 id="mysql-재시작" tabindex="-1">Mysql 재시작 <a class="header-anchor" href="#mysql-재시작" aria-hidden="true">#</a></h1><p>service mysqld restart 또는 /etc/init.d/mysqld restart</p><h1 id="utf8-확인하기" tabindex="-1">UTF8 확인하기 <a class="header-anchor" href="#utf8-확인하기" aria-hidden="true">#</a></h1><h1 id="mysql-접속" tabindex="-1">Mysql 접속 <a class="header-anchor" href="#mysql-접속" aria-hidden="true">#</a></h1><p>mysql -u root -p [엔터]</p><h1 id="현재-캐릭터셋-확인" tabindex="-1">현재 캐릭터셋 확인 <a class="header-anchor" href="#현재-캐릭터셋-확인" aria-hidden="true">#</a></h1><p>show variables like &#39;c%&#39;; [엔터]</p><p>+--------------------------+-----------------------------------------+</p><p>| Variable_name | Value |</p><p>+--------------------------+-----------------------------------------+</p><p>| character_set_client | utf8 |</p><p>| character_set_connection | utf8 |</p><p>| character_set_database | utf8 |</p><p>| character_set_filesystem | binary |</p><p>| character_set_results | utf8 |</p><p>| character_set_server | utf8 |</p><p>| character_set_system | utf8 |</p><p>| character_sets_dir | /usr/local/server/mysql/share/charsets/ |</p><p>| collation_connection | utf8_general_ci |</p><p>| collation_database | utf8_general_ci |</p><p>| collation_server | utf8_general_ci |</p><p>| completion_type | NO_CHAIN |</p><p>| concurrent_insert | AUTO |</p><p>| connect_timeout | 10 |</p><p>+--------------------------+-----------------------------------------+</p><h1 id="위와-같은-형태로-나오면-변경-완료" tabindex="-1">위와 같은 형태로 나오면 변경 완료 <a class="header-anchor" href="#위와-같은-형태로-나오면-변경-완료" aria-hidden="true">#</a></h1><p>마지막 줄이 정확한 자료 같다.</p><p>[ CentOS 7 ]</p><ol><li>현재 설정된 상태</li></ol><p>[root@localhost ~]# mysql --version</p><p>mysql Ver 15.1 Distrib 10.2.12-MariaDB, for Linux (x86_64) using readline 5.1</p><p>[root@localhost ~]# mysql -uroot -p</p><p>Enter password:</p><p>Welcome to the MariaDB monitor. Commands end with ; or \\g.</p><p>Your MariaDB connection id is 4</p><p>Server version: 10.2.12-MariaDB MariaDB Server</p><p>Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</p><p>Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.</p><p>MariaDB [(none)]&gt; show variables like &quot;%character%&quot;; show variables like &quot;%collation%&quot;;</p><p>+--------------------------+----------------------------+</p><p>| Variable_name | Value |</p><p>+--------------------------+----------------------------+</p><p>| character_set_client | utf8 |</p><p>| character_set_connection | utf8 |</p><p>| character_set_database | latin1 |</p><p>| character_set_filesystem | binary |</p><p>| character_set_results | utf8 |</p><p>| character_set_server | latin1 |</p><p>| character_set_system | utf8 |</p><p>| character_sets_dir | /usr/share/mysql/charsets/ |</p><p>+--------------------------+----------------------------+</p><p>8 rows in set (0.00 sec)</p><p>+----------------------+-------------------+</p><p>| Variable_name | Value |</p><p>+----------------------+-------------------+</p><p>| collation_connection | utf8_general_ci |</p><p>| collation_database | latin1_swedish_ci |</p><p>| collation_server | latin1_swedish_ci |</p><p>+----------------------+-------------------+</p><p>3 rows in set (0.01 sec)</p><p>MariaDB [(none)]&gt; exit</p><p>Bye</p><p>[root@localhost ~]#</p><ol start="2"><li>server.cnf 설정</li></ol><p>[root@localhost ~]# vi /etc/my.cnf.d/server.cnf</p><p>[client]</p><p>default-character-set=utf8mb4</p><p>[server]</p><p>character-set-server=utf8mb4</p><p>log-bin=mariadb-bin</p><p>event-scheduler=ON</p><p>[mysqld]</p><p>character-set-client-handshake = FALSE</p><p>collation-server = utf8mb4_unicode_ci</p><p>#init-connect=&#39;SET NAMES utf8mb4&#39;</p><p>character-set-server = utf8mb4</p><p>max_allowed_packet = 32M</p><p>slow_query_log</p><p>long_query_time = 2</p><p>[mariadb-10.1]</p><p>innodb_file_format=barracuda</p><p>innodb_large_prefix=on</p><ol start="3"><li>client.cnf 생성</li></ol><p>[root@localhost ~]# vi /etc/my.cnf.d/client.cnf</p><p>[client]</p><p>default-character-set=utf8mb4</p>',160);function d(a,_,m,u,f,y){return i(),t("div",null,[e("h1",l,[p(s(a.$frontmatter.title)+" ",1),o]),h])}const v=r(n,[["render",d]]);export{q as __pageData,v as default};
