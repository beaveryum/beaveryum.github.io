import{_ as n,c as p,a as s,b as l,t as o,d as e,o as t}from"./app.a1a9e66d.js";const m=JSON.parse('{"title":"centos - php 7.x 버전 설치하기","description":"","frontmatter":{"title":"centos - php 7.x 버전 설치하기"},"headers":[{"level":2,"title":"1. 외부 저장소 추가","slug":"_1-외부-저장소-추가","link":"#_1-외부-저장소-추가","children":[]},{"level":2,"title":"remi  설치","slug":"remi-설치","link":"#remi-설치","children":[]},{"level":2,"title":"2. 유틸 설치하기","slug":"_2-유틸-설치하기","link":"#_2-유틸-설치하기","children":[]},{"level":2,"title":"참고자료:","slug":"참고자료","link":"#참고자료","children":[]}],"relativePath":"server/centos - php 7.x 버전 설치하기.md","lastUpdated":1674745074000}'),c={name:"server/centos - php 7.x 버전 설치하기.md"},r={id:"frontmatter-title",tabindex:"-1"},C=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),i=e(`<h2 id="_1-외부-저장소-추가" tabindex="-1">1. 외부 저장소 추가 <a class="header-anchor" href="#_1-외부-저장소-추가" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span>
<span class="line"></span></code></pre></div><h2 id="remi-설치" tabindex="-1">remi 설치 <a class="header-anchor" href="#remi-설치" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://rpms.remirepo.net/enterprise/remi-release-7.rpm</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-유틸-설치하기" tabindex="-1">2. 유틸 설치하기 <a class="header-anchor" href="#_2-유틸-설치하기" aria-hidden="true">#</a></h2><p>Yum-utils 설치</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum-utils</span></span>
<span class="line"></span></code></pre></div><p>php 7.x 선택해서 설치하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remi-php71</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Install PHP </span><span style="color:#F78C6C;">7.1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remi-php72</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Install PHP </span><span style="color:#F78C6C;">7.2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remi-php73</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Install PHP </span><span style="color:#F78C6C;">7.3</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remi-php74</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Install PHP </span><span style="color:#F78C6C;">7.4</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-mcrypt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-gd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-ldap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-zip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-fileinfo</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-bcmath</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-common</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-dba</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-fpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-gd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-mbstring</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-pear</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php-xml</span></span>
<span class="line"></span></code></pre></div><p>추가 모듈이 있으면 확인 할수있음</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">php</span></span>
<span class="line"></span></code></pre></div><p>php 설정</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/php.ini</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">PHP</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">date.timezone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Asia/Seoul</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">cgi.fix_pathinfo=0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">open_basedir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">display_errors</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Off</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">allow_url_fopen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Off</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">expose_php</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Off</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">short_open_tag</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">On</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>php-fpm 설정 변경</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/php-fpm.d/www.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">user</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">listen.owner</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">listen.group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">listen.mode</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0660</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/run/php-fpm/php-fpm.sock</span></span>
<span class="line"></span></code></pre></div><p>nginx 설정</p><p>NGINX의 Runtime user:group을 설정합니다.</p><p>nginx.conf 파일의 user 부분을 찾아서 다음과 같이 변경합니다.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># vi /etc/nginx/nginx.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">user</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="참고자료" tabindex="-1">참고자료: <a class="header-anchor" href="#참고자료" aria-hidden="true">#</a></h2><p><a href="http://bong8nim.com/post/programming/etc/centos-nginx-php-fpm-socket-%EC%84%A4%EC%A0%95/" target="_blank" rel="noreferrer">http://bong8nim.com/post/programming/etc/centos-nginx-php-fpm-socket-설정/</a></p>`,22);function y(a,D,A,h,d,F){return t(),p("div",null,[s("h1",r,[l(o(a.$frontmatter.title)+" ",1),C]),i])}const E=n(c,[["render",y]]);export{m as __pageData,E as default};
