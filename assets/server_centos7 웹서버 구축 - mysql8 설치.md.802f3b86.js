import{_ as l,c as n,a as s,b as p,t as o,d as e,o as t}from"./app.ff46b2ef.js";const m=JSON.parse('{"title":"centos7 웹서버 구축 - mysql8 설치","description":"","frontmatter":{"title":"centos7 웹서버 구축 - mysql8 설치"},"headers":[{"level":2,"title":"1. 외부 저장소 추가하기","slug":"_1-외부-저장소-추가하기","link":"#_1-외부-저장소-추가하기","children":[]},{"level":2,"title":"2. 설치하기","slug":"_2-설치하기","link":"#_2-설치하기","children":[]},{"level":2,"title":"참고 자료 :","slug":"참고-자료","link":"#참고-자료","children":[]}],"relativePath":"server/centos7 웹서버 구축 - mysql8 설치.md","lastUpdated":null}'),c={name:"server/centos7 웹서버 구축 - mysql8 설치.md"},r={id:"frontmatter-title",tabindex:"-1"},y=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),D=e(`<h2 id="_1-외부-저장소-추가하기" tabindex="-1">1. 외부 저장소 추가하기 <a class="header-anchor" href="#_1-외부-저장소-추가하기" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span></span>
<span class="line"></span></code></pre></div><p>저장소 확인 하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">repolist</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enabled</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mysql.*</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>패키지 확인하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-설치하기" tabindex="-1">2. 설치하기 <a class="header-anchor" href="#_2-설치하기" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql-server</span></span>
<span class="line"></span></code></pre></div><p>버전 확인 하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"></span></code></pre></div><p>방화벽 열기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--zone=public</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-port=3306/tcp</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--zone=public</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-port=33060/tcp</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--reload</span></span>
<span class="line"></span></code></pre></div><p>구동하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysqld</span></span>
<span class="line"></span></code></pre></div><p>8.0 은 임시비밀번호를 발급 해준다 명령어로 확인 하면 된다.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">temporary password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/mysqld.log</span></span>
<span class="line"></span></code></pre></div><p>mysql 접속한다.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"></span></code></pre></div><p>루트 비번 변경하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">ALTER</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">USER</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IDENTIFIED</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">BY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">바꿀비번</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>생성한 계정 확인 하기</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">select</span><span style="color:#A6ACCD;"> host, user, password from user</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>해당 계정 비밀번호 와 권한 주는 방법</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">CREATE USER </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">비번</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">GRANT ALL PRIVILEGES </span><span style="color:#89DDFF;">ON</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#89DDFF;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> to </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">비번</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">FLUSH PRIVILEGES</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>만약에 해당 디비에만 권한을 준다면?</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">GRANT ALL privileges </span><span style="color:#89DDFF;">ON</span><span style="color:#A6ACCD;"> DB명</span><span style="color:#89DDFF;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> TO 계정아이디</span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">locahost IDENTIFIED BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">비밀번호</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>권한 부여 할때 어느 수준까지 가능한가?</p><p>모든 권한 부여</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">grant all privileges </span><span style="color:#89DDFF;">on</span></span>
<span class="line"></span></code></pre></div><p>조회, 추가, 삭제, 수정 만 부여</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">grant select</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> insert</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> update </span><span style="color:#89DDFF;">on</span></span>
<span class="line"></span></code></pre></div><p>사용 권한 부여 확인</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">SHOW GRANTS FOR test</span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">SHOW GRANTS FOR test</span><span style="color:#89DDFF;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>사용 권한 제거</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">revoke all </span><span style="color:#89DDFF;">on</span><span style="color:#A6ACCD;"> DB명</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">테이블명 from 사용자ID</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>사용자 삭제</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">drop user userid</span><span style="color:#89DDFF;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">drop user userid</span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="참고-자료" tabindex="-1">참고 자료 : <a class="header-anchor" href="#참고-자료" aria-hidden="true">#</a></h2><p><a href="https://1mini2.tistory.com/86" target="_blank" rel="noreferrer">https://1mini2.tistory.com/86</a></p><p><a href="https://velog.io/@inhalin/MySQL-ERROR-1410-42000" target="_blank" rel="noreferrer">https://velog.io/@inhalin/MySQL-ERROR-1410-42000</a></p><p><a href="https://nickjoit.tistory.com/144" target="_blank" rel="noreferrer">https://nickjoit.tistory.com/144</a></p><p><a href="https://gofnrk.tistory.com/15" target="_blank" rel="noreferrer">https://gofnrk.tistory.com/15</a></p>`,42);function i(a,C,F,d,A,h){return t(),n("div",null,[s("h1",r,[p(o(a.$frontmatter.title)+" ",1),y]),D])}const u=l(c,[["render",i]]);export{m as __pageData,u as default};
